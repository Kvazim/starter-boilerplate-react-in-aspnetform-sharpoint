# Инструкция по работе со сборкой

Данная сборка позволяет разрабатывать локально, но не теряя окружение продуктового сервера, позволяя постепенно отказаться от легаси кода, встраивая мини реакт приложения в существующий сайт.

Для создания мастер файла сначала запускаем команду npm run server, после этого запускаем npm run dev. после верстки и сборки проекта (npm run build) копируем скрипты в sharpoint и прописываем пути к ним в мастер файле react.master в ядре.
для создания веб частей cоздаем раздел, помещаем туда файл default.aspx и меняем в app точку подключения на 'react-content'. В файле в разделе вставки контента помещаем два скрипта:
```js
<script type="module">
  import RefreshRuntime from "http://localhost:5173/@react-refresh"
  RefreshRuntime.injectIntoGlobalHook(window)
  window.$RefreshReg$ = () => {}
  window.$RefreshSig$ = () => (type) => type
  window.__vite_plugin_react_preamble_installed__ = true
</script>
<script type="module" src="http://localhost:5173/src/index.tsx"></script>
```
т.к. мы работаем в окружении net Первый скрипт позволяет обновлять страницу в режиме разработки, второй непосредственно сам бандл приложения, Запускаем команду
npm run start програмируем раздел.

После завершения сборки перейдите в папку dist, скопируйте папку assets в ваш раздел.
Вместо использованных в разработке скриптов, вставьте скрипты для продакшн-версии. Вы можете взять их из сгенерированного файла index.html в папке dist
